
<!DOCTYPE html>

<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
 
    <title>Nelly Barret</title>

    <!--My functions to generate the website-->
    <script src="generate.js"></script> 

    <!--JQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">	

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <!-- Our custom CSS -->
    <link rel="stylesheet" href="styles.css"/>
    <link rel="stylesheet" href="w3schools-styles.css"/>
</head>
    
<body>
    <div id="my-navbar"></div>


    <!-- SECTION PUBLICATIONS -->
    <section id="publications" class="anchor light">

    <div class="container py-2">
        <label for="sort_publis">Sort by:</label>
        <select name="sort_publis" id="sort_publis">
            <option value="year">Year</option>
            <option value="category">Category</option>
        </select>
        <div id="container-publis">
        </div>
    </div>
    </section>
</body>
</html>

<script> 

// add navbar
$(function(){
  $("#my-navbar").load("https://nelly-barret.github.io/navbar.html"); 
});

// first time to load the page: show publications by year (first and default value of sort)
my_whole_data = get_json_data("https://nelly-barret.github.io/docInPython/docInPython/data.json");
html = generate_publication_page(my_whole_data["publications"], $("#sort_publis").val());
$("#container-publis").append(html);

// add event on sort button to update the publication list every time the sort changes
$("#sort_publis").click(function() {
    $("#container-publis").empty();
    console.log("regenerate");
    console.log(my_whole_data["publications"]);
    html = generate_publication_page(my_whole_data["publications"], $("#sort_publis").val());
    $("#container-publis").append(html);
});
</script> 